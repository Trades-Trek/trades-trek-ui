import Hero from "../../components/Home/HeroSection";
import { useEffect, useState } from 'react'
import { useDisclosure } from "@mantine/hooks";
import { useRouter } from "next/router";
import { Modal, Button, Group } from "@mantine/core";
import { List, ThemeIcon } from "@mantine/core";
import { IconCircleCheck, IconCircleDashed } from "@tabler/icons-react";



function useLocalStorage(key, initialValue) {
  const [value, setValue] = useState(initialValue);

  useEffect(() => {
    if (typeof window !== "undefined") {
      const storedValue = localStorage.getItem(key);
      setValue(storedValue || initialValue);
    }
  }, [key, initialValue]);

  return value;
}

function HomePageBanner() {
  const [opened, { open, close }] = useDisclosure(false);
  const hasSignedUpForBetaTesting = useLocalStorage(
    "hasSignedUpForBetaTesting",
    "false"
  );


  useEffect(() => {
    if (hasSignedUpForBetaTesting === "false") {
      open(); // Close the modal if the user has already signed up
    }
  }, [hasSignedUpForBetaTesting]);

  if (hasSignedUpForBetaTesting === "true") {
    return null; // Don't render anything if the user has already signed up
  }

  return (
    <>
      <Modal
        className="beta-testing-modal"
        opened={opened}
        onClose={close}
        radius="xs"
        style={{ padding: "0px" }}
      >
        <div style={{ width: "80%", margin: "0 auto" }}>
          <img src="/images/newlogo.jpg" />
        </div>
        <section
          style={{
            background: "#2E2E2E",
          }}
        >
          <div
            style={{
              width: "50%",
              margin: "0 auto",
            }}
          >
            <img src="/images/betaTest.png" />
          </div>
          <div
            style={{
              textAlign: "center",
              color: "white",
              fontSize: 23,
              fontFamily: "Poppins",
              fontWeight: "600",
              wordWrap: "break-word",
              borderBottom: "1px solid #5D5D5D",
              paddingBottom: "20px",
            }}
          >
            Get exclusive access to our app <br /> as a beta tester!
          </div>

          <div
            style={{
              textAlign: "center",
              color: "white",
              fontSize: 15,
              fontFamily: "Poppins",
              fontWeight: "400",
              wordWrap: "break-word",
              margin: "40px",
            }}
          >
            Help us shape the future of Trades Trek. <br /> Sign up now for
            early access!
          </div>

          <Group position="center" className=" pb-40 ">
            <JoinButton />
          </Group>
        </section>
      </Modal>
    </>
  );
}
const Home = () => {
  return (
    <div>
      <HomePageBanner />
      <Hero />
    </div>
  );
};

export default Home;

function JoinButton() {
  const router = useRouter();
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="250"
      height="100"
      fill="none"
      viewBox="0 0 664 221"
      style={{ cursor: "pointer" }}
      onClick={() => router.push("/beta-signup")}
    >
      <rect
        width="567.64"
        height="116.857"
        x="93.871"
        y="54.268"
        fill="#2E2E2E"
        stroke="#E8D1FF"
        strokeWidth="4.976"
        rx="58.428"
      ></rect>
      <mask
        id="mask0_2357_17490"
        style={{ maskType: "alpha" }}
        width="217"
        height="221"
        x="0"
        y="0"
        maskUnits="userSpaceOnUse"
      >
        <path
          fill="#B26AFB"
          d="M48.705 0H223.485V179.704H48.705z"
          transform="rotate(15.725 48.705 0)"
        ></path>
      </mask>
      <g mask="url(#mask0_2357_17490)">
        <rect
          width="567.64"
          height="116.857"
          x="93.871"
          y="54.267"
          stroke="#000"
          strokeOpacity="0.6"
          strokeWidth="4.976"
          rx="58.428"
        ></rect>
      </g>
      <path
        fill="#fff"
        d="M175.952 97.013v20.6c0 2.293-.707 4.133-2.12 5.52-1.413 1.36-3.28 2.04-5.6 2.04-2.347 0-4.227-.694-5.64-2.08-1.413-1.414-2.12-3.334-2.12-5.76h3.64c.027 1.36.373 2.466 1.04 3.32.693.853 1.72 1.28 3.08 1.28s2.373-.4 3.04-1.2c.667-.827 1-1.867 1-3.12v-20.6h3.68zm19.811 28.16c-2.587 0-4.947-.6-7.08-1.8-2.133-1.227-3.827-2.92-5.08-5.08-1.227-2.187-1.84-4.64-1.84-7.36 0-2.72.613-5.16 1.84-7.32 1.253-2.187 2.947-3.88 5.08-5.08 2.133-1.227 4.493-1.84 7.08-1.84 2.613 0 4.987.613 7.12 1.84 2.133 1.2 3.813 2.88 5.04 5.04 1.227 2.16 1.84 4.613 1.84 7.36 0 2.746-.613 5.2-1.84 7.36s-2.907 3.853-5.04 5.08c-2.133 1.2-4.507 1.8-7.12 1.8zm0-3.16c1.947 0 3.693-.454 5.24-1.36 1.573-.907 2.8-2.2 3.68-3.88.907-1.68 1.36-3.627 1.36-5.84 0-2.24-.453-4.187-1.36-5.84-.88-1.68-2.093-2.974-3.64-3.88-1.547-.907-3.307-1.36-5.28-1.36-1.973 0-3.733.453-5.28 1.36-1.547.906-2.773 2.2-3.68 3.88-.88 1.653-1.32 3.6-1.32 5.84 0 2.213.44 4.16 1.32 5.84.907 1.68 2.133 2.973 3.68 3.88 1.573.906 3.333 1.36 5.28 1.36zm22.445-25v27.88h-3.64v-27.88h3.64zm28.124 27.88h-3.64l-14.64-22.2v22.2h-3.64v-27.92h3.64l14.64 22.16v-22.16h3.64v27.92zm33.349-6.2h-12.16l-2.24 6.2h-3.84l10.08-27.72h4.2l10.04 27.72h-3.84l-2.24-6.2zm-1.04-2.96l-5.04-14.08-5.04 14.08h10.08zm20.353 9.44c-1.84 0-3.493-.32-4.96-.96-1.44-.667-2.573-1.574-3.4-2.72-.826-1.174-1.253-2.52-1.28-4.04h3.88c.134 1.306.667 2.413 1.6 3.32.96.88 2.347 1.32 4.16 1.32 1.734 0 3.094-.427 4.08-1.28 1.014-.88 1.52-2 1.52-3.36 0-1.067-.293-1.934-.88-2.6a5.607 5.607 0 00-2.2-1.52c-.88-.347-2.066-.72-3.56-1.12-1.84-.48-3.32-.96-4.44-1.44-1.093-.48-2.04-1.227-2.84-2.24-.773-1.04-1.16-2.427-1.16-4.16 0-1.52.387-2.867 1.16-4.04.774-1.174 1.854-2.08 3.24-2.72 1.414-.64 3.027-.96 4.84-.96 2.614 0 4.747.653 6.4 1.96 1.68 1.306 2.627 3.04 2.84 5.2h-4c-.133-1.067-.693-2-1.68-2.8-.986-.827-2.293-1.24-3.92-1.24-1.52 0-2.76.4-3.72 1.2-.96.773-1.44 1.866-1.44 3.28 0 1.013.28 1.84.84 2.48a5.98 5.98 0 002.12 1.48c.854.32 2.04.693 3.56 1.12 1.84.506 3.32 1.013 4.44 1.52 1.12.48 2.08 1.24 2.88 2.28.8 1.013 1.2 2.4 1.2 4.16 0 1.36-.36 2.64-1.08 3.84-.72 1.2-1.786 2.173-3.2 2.92-1.413.746-3.08 1.12-5 1.12zm41.781-6.48h-12.16l-2.24 6.2h-3.84l10.08-27.72h4.2l10.04 27.72h-3.84l-2.24-6.2zm-1.04-2.96l-5.04-14.08-5.04 14.08h10.08zm36.137-5.2a5.766 5.766 0 012.76 1.24 6.971 6.971 0 012 2.48c.507.986.76 2.04.76 3.16 0 1.413-.36 2.693-1.08 3.84-.72 1.12-1.773 2.013-3.16 2.68-1.36.64-2.973.96-4.84.96h-10.4v-27.88h10c1.893 0 3.507.32 4.84.96 1.333.613 2.333 1.453 3 2.52.667 1.066 1 2.266 1 3.6 0 1.653-.453 3.026-1.36 4.12-.88 1.066-2.053 1.84-3.52 2.32zm-10.32-1.48h6.12c1.707 0 3.027-.4 3.96-1.2.933-.8 1.4-1.907 1.4-3.32 0-1.414-.467-2.52-1.4-3.32-.933-.8-2.28-1.2-4.04-1.2h-6.04v9.04zm6.44 12.84c1.813 0 3.227-.427 4.24-1.28 1.013-.854 1.52-2.04 1.52-3.56 0-1.547-.533-2.76-1.6-3.64-1.067-.907-2.493-1.36-4.28-1.36h-6.32v9.84h6.44zm18.091-21.92v9.32h10.16v3h-10.16v9.6h11.36v3h-15v-27.92h15v3h-11.36zm34.028-2.96v2.96h-7.6v24.92h-3.64v-24.92h-7.64v-2.96h18.88zm20.961 21.68h-12.16l-2.24 6.2h-3.84l10.08-27.72h4.2l10.04 27.72h-3.84l-2.24-6.2zm-1.04-2.96l-5.04-14.08-5.04 14.08h10.08zm39.337-18.72v2.96h-7.6v24.92h-3.64v-24.92h-7.64v-2.96h18.88zm8.121 2.96v9.32h10.16v3h-10.16v9.6h11.36v3h-15v-27.92h15v3h-11.36zm25.707 25.2c-1.84 0-3.493-.32-4.96-.96-1.44-.667-2.573-1.574-3.4-2.72-.826-1.174-1.253-2.52-1.28-4.04h3.88c.134 1.306.667 2.413 1.6 3.32.96.88 2.347 1.32 4.16 1.32 1.734 0 3.094-.427 4.08-1.28 1.014-.88 1.52-2 1.52-3.36 0-1.067-.293-1.934-.88-2.6a5.607 5.607 0 00-2.2-1.52c-.88-.347-2.066-.72-3.56-1.12-1.84-.48-3.32-.96-4.44-1.44-1.093-.48-2.04-1.227-2.84-2.24-.773-1.04-1.16-2.427-1.16-4.16 0-1.52.387-2.867 1.16-4.04.774-1.174 1.854-2.08 3.24-2.72 1.414-.64 3.027-.96 4.84-.96 2.614 0 4.747.653 6.4 1.96 1.68 1.306 2.627 3.04 2.84 5.2h-4c-.133-1.067-.693-2-1.68-2.8-.986-.827-2.293-1.24-3.92-1.24-1.52 0-2.76.4-3.72 1.2-.96.773-1.44 1.866-1.44 3.28 0 1.013.28 1.84.84 2.48a5.98 5.98 0 002.12 1.48c.854.32 2.04.693 3.56 1.12 1.84.506 3.32 1.013 4.44 1.52 1.12.48 2.08 1.24 2.88 2.28.8 1.013 1.2 2.4 1.2 4.16 0 1.36-.36 2.64-1.08 3.84-.72 1.2-1.786 2.173-3.2 2.92-1.413.746-3.08 1.12-5 1.12zm31.797-28.16v2.96h-7.6v24.92h-3.64v-24.92h-7.64v-2.96h18.88zm8.121 2.96v9.32h10.16v3h-10.16v9.6h11.36v3h-15v-27.92h15v3h-11.36zm31.547 24.92l-6.64-11.4h-4.4v11.4h-3.64v-27.88h9c2.107 0 3.88.36 5.32 1.08 1.467.72 2.56 1.693 3.28 2.92.72 1.226 1.08 2.626 1.08 4.2 0 1.92-.56 3.613-1.68 5.08-1.093 1.466-2.746 2.44-4.96 2.92l7 11.68h-4.36zm-11.04-14.32h5.36c1.974 0 3.454-.48 4.44-1.44.987-.987 1.48-2.294 1.48-3.92 0-1.654-.493-2.934-1.48-3.84-.96-.907-2.44-1.36-4.44-1.36h-5.36v10.56z"
      ></path>
    </svg>
  );
}
